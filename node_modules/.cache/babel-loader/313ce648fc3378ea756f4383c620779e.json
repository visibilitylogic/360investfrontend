{"ast":null,"code":"import _defineProperty from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"../AccountsAsset/dash.css\";import{Route,Switch,useHistory,Redirect,NavLink}from\"react-router-dom\";import Sidebar from\"../Component/Sidebar\";import AdminSidebar from\"../Component/AdminSidebar\";import TradingViewWidget,{Themes}from\"react-tradingview-widget\";import axios from\"axios\";import{message}from\"antd\";import{Table,Tag,Space}from\"antd\";import EditAutoTrade from\"../Component/EditAutotradeModal\";var AutoTrading=/*#__PURE__*/function(_Component){_inherits(AutoTrading,_Component);var _super=_createSuper(AutoTrading);function AutoTrading(props){var _this$state;var _this;_classCallCheck(this,AutoTrading);_this=_super.call(this,props);_this.token=\"pk_135c1daf1b8d4130b9318fd5e8ab0e5e\";_this.fav=document.getElementById(\"favicon\");_this.title=document.getElementById(\"title\");_this.delete=function(id){axios.delete(\"https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade/\".concat(id)).then(function(response){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;_this.setState({data:data});case 7:case\"end\":return _context.stop();}}},_callee);}))();message.success(\"successfully deleted auto-trade\");},function(error){console.log(error);message.error(\"error deleting auto-trade\");});};_this.submit=function(){var data={subscriptionFee:_this.state.subscriptionFee,profitPercentage:_this.state.profitPercentage,userName:_this.state.userName};axios.post(\"https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade\",data).then(function(response){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade\");case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;_this.setState({data:data});case 7:case\"end\":return _context2.stop();}}},_callee2);}))();_this.setState({subscriptionFee:\"\",profitPercentage:\"\",userName:\"\"});message.success(\"successfully added auto-trade\");},function(error){console.log(error);message.error(\"error adding auto-trade\");});};_this.getAll=function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.setState({getLoading:true});_context3.next=3;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade\");case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:data=_context3.sent;_this.setState({data:data,getLoading:false});case 8:case\"end\":return _context3.stop();}}},_callee3);}))();};_this.columns=[{title:\"Username\",dataIndex:\"userName\",key:\"userName\",render:function render(text){return/*#__PURE__*/_jsx(\"b\",{children:text});}},{title:\"Profit (in percentage)\",dataIndex:\"profitPercentage\",key:\"profitPercentage\"},{title:\"Subscription Fee\",dataIndex:\"subscriptionFee\",key:\"subscriptionFee\"},{title:\"Action\",key:\"action\",render:function render(text,record){return/*#__PURE__*/_jsxs(Space,{size:\"middle\",children:[/*#__PURE__*/_jsx(EditAutoTrade,{id:record._id,callback:_this.getAll,children:/*#__PURE__*/_jsx(Tag,{color:\"blue\",style:{cursor:\"pointer\"},children:\"Edit\"})}),/*#__PURE__*/_jsx(Tag,{onClick:function onClick(){return _this.delete(record._id);},color:\"red\",style:{cursor:\"pointer\"},children:\"Delete\"})]});}}];_this.state=(_this$state={user:_this.props.user,redirect:\"/\",data:{},orders:[],disA1:true,disA2:true,btcP:[],market:false,board:false,port:false,manager:false,levIsh:false,admin:true,allUsers:[],allVerify:[],allDeposit:[],allWithdraw:[],allTrades:[],userId:{},displayC:false,curDeposit:[],card:true,bal:false,payments:false,secu:false,with:false,orderT:false,updateAmount:\"\",userName:\"\",profitPercentage:\"\",subscriptionFee:\"\"},_defineProperty(_this$state,\"data\",[]),_defineProperty(_this$state,\"getLoading\",false),_this$state);_this.myRef3=_this.props.user.user?/*#__PURE__*/React.createRef():\"\";_this.textInput=_this.props.user.user?/*#__PURE__*/React.createRef():\"\";return _this;}_createClass(AutoTrading,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var response,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade\");case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;_this2.setState({data:data});case 7:case\"end\":return _context4.stop();}}},_callee4);}))();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var response,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_this2.setState({getLoading:true});_context5.next=3;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/api/trade/\".concat(_this2.state.user.user?_this2.state.user.user.user._id:\"\"));case 3:response=_context5.sent;_context5.next=6;return response.json();case 6:data=_context5.sent;_this2.setState({orders:data,getLoading:false});case 8:case\"end\":return _context5.stop();}}},_callee5);}))();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var response,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/allUser\");case 2:response=_context6.sent;_context6.next=5;return response.json();case 5:data=_context6.sent;console.log(data);_this2.setState({allUsers:data});case 8:case\"end\":return _context6.stop();}}},_callee6);}))();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var response,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/allWithdraw\");case 2:response=_context7.sent;_context7.next=5;return response.json();case 5:data=_context7.sent;console.log(data);_this2.setState({allWithdraw:data});case 8:case\"end\":return _context7.stop();}}},_callee7);}))();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var response,data;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/allDeposit\");case 2:response=_context8.sent;_context8.next=5;return response.json();case 5:data=_context8.sent;console.log(data);_this2.setState({allDeposit:data});case 8:case\"end\":return _context8.stop();}}},_callee8);}))();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var response,data;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/allTrade\");case 2:response=_context9.sent;_context9.next=5;return response.json();case 5:data=_context9.sent;console.log(data);_this2.setState({allTrades:data});case 8:case\"end\":return _context9.stop();}}},_callee9);}))();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var response,data;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/allVerify\");case 2:response=_context10.sent;_context10.next=5;return response.json();case 5:data=_context10.sent;console.log(data);_this2.setState({allVerify:data});case 8:case\"end\":return _context10.stop();}}},_callee10);}))();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){var response,data;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/api/trade/\".concat(_this2.state.user.user?_this2.state.user.user.user._id:\"\"));case 2:response=_context11.sent;_context11.next=5;return response.json();case 5:data=_context11.sent;_this2.setState({orders:data});case 7:case\"end\":return _context11.stop();}}},_callee11);}))();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){var response,user;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return fetch(\"https://excelinsure-backend-229kl.ondigitalocean.app/api/trade/user/\".concat(_this2.state.user.user?_this2.state.user.user.user._id:\"\"));case 2:response=_context12.sent;_context12.next=5;return response.json();case 5:user=_context12.sent;_this2.setState({user:user});case 7:case\"end\":return _context12.stop();}}},_callee12);}))();if(this.props.user.user){var script3=document.createElement(\"script\");script3.src=\"https://cdn.jsdelivr.net/gh/codabae/hostjs/dashUPPER15.js\";script3.async=true;this.myRef3.current.appendChild(script3);}}},{key:\"render\",value:function render(){var _this3=this;if(this.props.user.length===0){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}else{return/*#__PURE__*/_jsx(\"div\",{ref:this.myRef3,children:/*#__PURE__*/_jsx(\"section\",{className:\"dash-contents\",onClick:this.closeForex,children:/*#__PURE__*/_jsxs(\"div\",{className:\"dash-row\",children:[/*#__PURE__*/_jsx(Sidebar,{user:this.props.user,site:this.props.site}),this.state.admin?/*#__PURE__*/_jsxs(\"div\",{className:\"full-width dash-row\",style:{paddingLeft:0,paddingBottom:35,overflow:\"hidden\"},children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"public-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Username\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{className:\"dash-input\",type:\"text\",name:\"text\",onChange:function onChange(e){return _this3.setState({userName:e.target.value});},value:this.state.userName})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Profit (in percentage)\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{className:\"dash-input\",type:\"number\",name:\"text\",onChange:function onChange(e){return _this3.setState({profitPercentage:e.target.value});},value:this.state.profitPercentage})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Subscription Fee\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{className:\"dash-input\",type:\"number\",name:\"text\",onChange:function onChange(e){return _this3.setState({subscriptionFee:e.target.value});},value:this.state.subscriptionFee})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"save-btn\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.submit,children:\"Add\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid mt-5\",children:/*#__PURE__*/_jsx(Table,{loading:this.state.getLoading,columns:this.columns,dataSource:this.state.data,pagination:false,scroll:{y:240}})})]})]}):\"\"]})})});}}}]);return AutoTrading;}(Component);export default AutoTrading;","map":{"version":3,"sources":["/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/src/Pages/AutoTrading.js"],"names":["React","Component","Route","Switch","useHistory","Redirect","NavLink","Sidebar","AdminSidebar","TradingViewWidget","Themes","axios","message","Table","Tag","Space","EditAutoTrade","AutoTrading","props","token","fav","document","getElementById","title","delete","id","then","response","fetch","res","json","data","setState","success","error","console","log","submit","subscriptionFee","state","profitPercentage","userName","post","getAll","getLoading","columns","dataIndex","key","render","text","record","_id","cursor","user","redirect","orders","disA1","disA2","btcP","market","board","port","manager","levIsh","admin","allUsers","allVerify","allDeposit","allWithdraw","allTrades","userId","displayC","curDeposit","card","bal","payments","secu","with","orderT","updateAmount","myRef3","createRef","textInput","script3","createElement","src","async","current","appendChild","length","closeForex","site","paddingLeft","paddingBottom","overflow","e","target","value","y"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../AccountsAsset/dash.css\";\nimport { Route, Switch, useHistory, Redirect, NavLink } from \"react-router-dom\";\nimport Sidebar from \"../Component/Sidebar\";\nimport AdminSidebar from \"../Component/AdminSidebar\";\nimport TradingViewWidget, { Themes } from \"react-tradingview-widget\";\nimport axios from \"axios\";\nimport { message } from \"antd\";\nimport { Table, Tag, Space } from \"antd\";\nimport EditAutoTrade from \"../Component/EditAutotradeModal\";\nclass AutoTrading extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: this.props.user,\n      redirect: \"/\",\n      data: {},\n      orders: [],\n      disA1: true,\n      disA2: true,\n      btcP: [],\n      market: false,\n      board: false,\n      port: false,\n      manager: false,\n      levIsh: false,\n      admin: true,\n\n      allUsers: [],\n      allVerify: [],\n      allDeposit: [],\n      allWithdraw: [],\n      allTrades: [],\n      userId: {},\n      displayC: false,\n      curDeposit: [],\n      card: true,\n      bal: false,\n      payments: false,\n      secu: false,\n      with: false,\n      orderT: false,\n      updateAmount: \"\",\n      userName: \"\",\n      profitPercentage: \"\",\n      subscriptionFee: \"\",\n      data: [],\n      getLoading: false,\n    };\n    this.myRef3 = this.props.user.user ? React.createRef() : \"\";\n    this.textInput = this.props.user.user ? React.createRef() : \"\";\n  }\n  token = \"pk_135c1daf1b8d4130b9318fd5e8ab0e5e\";\n  fav = document.getElementById(\"favicon\");\n  title = document.getElementById(\"title\");\n\n  componentDidMount() {\n    (async () => {\n      let response = await fetch(\n        `https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade`\n      );\n      let data = await response.json();\n      this.setState({\n        data: data,\n      });\n    })();\n    (async () => {\n      this.setState({ getLoading: true });\n      let response = await fetch(\n        `https://excelinsure-backend-229kl.ondigitalocean.app/api/trade/${\n          this.state.user.user ? this.state.user.user.user._id : \"\"\n        }`\n      );\n      let data = await response.json();\n      this.setState({\n        orders: data,\n        getLoading: false,\n      });\n    })();\n\n    (async () => {\n      let response = await fetch(\n        `https://excelinsure-backend-229kl.ondigitalocean.app/allUser`\n      );\n      let data = await response.json();\n      console.log(data);\n\n      this.setState({\n        allUsers: data,\n      });\n    })();\n\n    (async () => {\n      let response = await fetch(\n        `https://excelinsure-backend-229kl.ondigitalocean.app/allWithdraw`\n      );\n      let data = await response.json();\n\n      console.log(data);\n      this.setState({\n        allWithdraw: data,\n      });\n    })();\n\n    (async () => {\n      let response = await fetch(\n        `https://excelinsure-backend-229kl.ondigitalocean.app/allDeposit`\n      );\n      let data = await response.json();\n      console.log(data);\n\n      this.setState({\n        allDeposit: data,\n      });\n    })();\n\n    (async () => {\n      let response = await fetch(\n        `https://excelinsure-backend-229kl.ondigitalocean.app/allTrade`\n      );\n\n      let data = await response.json();\n      console.log(data);\n\n      this.setState({\n        allTrades: data,\n      });\n    })();\n\n    (async () => {\n      let response = await fetch(\n        `https://excelinsure-backend-229kl.ondigitalocean.app/allVerify`\n      );\n      let data = await response.json();\n      console.log(data);\n\n      this.setState({\n        allVerify: data,\n      });\n    })();\n    (async () => {\n      let response = await fetch(\n        `https://excelinsure-backend-229kl.ondigitalocean.app/api/trade/${\n          this.state.user.user ? this.state.user.user.user._id : \"\"\n        }`\n      );\n      let data = await response.json();\n      this.setState({\n        orders: data,\n      });\n    })();\n\n    (async () => {\n      let response = await fetch(\n        `https://excelinsure-backend-229kl.ondigitalocean.app/api/trade/user/${\n          this.state.user.user ? this.state.user.user.user._id : \"\"\n        }`\n      );\n      let user = await response.json();\n\n      this.setState({\n        user: user,\n      });\n    })();\n\n    if (this.props.user.user) {\n      const script3 = document.createElement(\"script\");\n      script3.src = \"https://cdn.jsdelivr.net/gh/codabae/hostjs/dashUPPER15.js\";\n      script3.async = true;\n\n      this.myRef3.current.appendChild(script3);\n    }\n  }\n  delete = (id) => {\n    axios\n      .delete(`https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade/${id}`)\n      .then(\n        (response) => {\n          (async () => {\n            let res = await fetch(\n              `https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade`\n            );\n            let data = await res.json();\n            this.setState({\n              data: data,\n            });\n          })();\n          message.success(\"successfully deleted auto-trade\");\n        },\n        (error) => {\n          console.log(error);\n          message.error(\"error deleting auto-trade\");\n        }\n      );\n  };\n  submit = () => {\n    let data = {\n      subscriptionFee: this.state.subscriptionFee,\n      profitPercentage: this.state.profitPercentage,\n      userName: this.state.userName,\n    };\n\n    axios\n      .post(\"https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade\", data)\n      .then(\n        (response) => {\n          (async () => {\n            let res = await fetch(\n              `https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade`\n            );\n            let data = await res.json();\n            this.setState({\n              data: data,\n            });\n          })();\n          this.setState({\n            subscriptionFee: \"\",\n            profitPercentage: \"\",\n            userName: \"\",\n          });\n          message.success(\"successfully added auto-trade\");\n        },\n        (error) => {\n          console.log(error);\n          message.error(\"error adding auto-trade\");\n        }\n      );\n  };\n\n  getAll = () => {\n    (async () => {\n      this.setState({ getLoading: true });\n      let response = await fetch(\n        `https://excelinsure-backend-229kl.ondigitalocean.app/api/copytrade`\n      );\n      let data = await response.json();\n      this.setState({\n        data: data,\n        getLoading: false,\n      });\n    })();\n  };\n  columns = [\n    {\n      title: \"Username\",\n      dataIndex: \"userName\",\n      key: \"userName\",\n      render: (text) => <b>{text}</b>,\n    },\n\n    {\n      title: \"Profit (in percentage)\",\n      dataIndex: \"profitPercentage\",\n      key: \"profitPercentage\",\n    },\n    {\n      title: \"Subscription Fee\",\n      dataIndex: \"subscriptionFee\",\n      key: \"subscriptionFee\",\n    },\n    {\n      title: \"Action\",\n      key: \"action\",\n      render: (text, record) => (\n        <Space size=\"middle\">\n          <EditAutoTrade id={record._id} callback={this.getAll}>\n            <Tag color=\"blue\" style={{ cursor: \"pointer\" }}>\n              Edit\n            </Tag>\n          </EditAutoTrade>\n          <Tag\n            onClick={() => this.delete(record._id)}\n            color=\"red\"\n            style={{ cursor: \"pointer\" }}\n          >\n            Delete\n          </Tag>\n        </Space>\n      ),\n    },\n  ];\n\n  render() {\n    if (this.props.user.length === 0) {\n      return <Redirect to=\"/\" />;\n    } else {\n      return (\n        <div ref={this.myRef3}>\n          <section className=\"dash-contents\" onClick={this.closeForex}>\n            <div className=\"dash-row\">\n              <Sidebar user={this.props.user} site={this.props.site} />\n              {this.state.admin ? (\n                <div\n                  className=\"full-width dash-row\"\n                  style={{\n                    paddingLeft: 0,\n                    paddingBottom: 35,\n                    overflow: \"hidden\",\n                  }}\n                >\n                  <AdminSidebar />\n\n                  <div className=\"admin-content\">\n                    <div className=\"public-card\">\n                      <div className=\"each-row dash-row\">\n                        <div className=\"dtls\">\n                          <h4>Username</h4>\n                        </div>\n                        <div className=\"actions\">\n                          <input\n                            className=\"dash-input\"\n                            type=\"text\"\n                            name=\"text\"\n                            onChange={(e) =>\n                              this.setState({ userName: e.target.value })\n                            }\n                            value={this.state.userName}\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"each-row dash-row\">\n                        <div className=\"dtls\">\n                          <h4>Profit (in percentage)</h4>\n                        </div>\n                        <div className=\"actions\">\n                          <input\n                            className=\"dash-input\"\n                            type=\"number\"\n                            name=\"text\"\n                            onChange={(e) =>\n                              this.setState({\n                                profitPercentage: e.target.value,\n                              })\n                            }\n                            value={this.state.profitPercentage}\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"each-row dash-row\">\n                        <div className=\"dtls\">\n                          <h4>Subscription Fee</h4>\n                        </div>\n                        <div className=\"actions\">\n                          <input\n                            className=\"dash-input\"\n                            type=\"number\"\n                            name=\"text\"\n                            onChange={(e) =>\n                              this.setState({ subscriptionFee: e.target.value })\n                            }\n                            value={this.state.subscriptionFee}\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"save-btn\">\n                        <button onClick={this.submit}>Add</button>\n                      </div>\n                    </div>\n                    <div className=\"container-fluid mt-5\">\n\n                      <Table\n                        loading={this.state.getLoading}\n                        columns={this.columns}\n                        dataSource={this.state.data}\n                        pagination={false}\n                        scroll={{ y: 240 }}\n                      />\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                \"\"\n              )}\n            </div>\n          </section>\n        </div>\n      );\n    }\n  }\n}\n\nexport default AutoTrading;\n"]},"metadata":{},"sourceType":"module"}