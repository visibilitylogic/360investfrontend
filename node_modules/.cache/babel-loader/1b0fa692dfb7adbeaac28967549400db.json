{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/codabae/Documents/Projects/TradeTroyProject/360InvestFronend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/codabae/Documents/Projects/TradeTroyProject/360InvestFronend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/codabae/Documents/Projects/TradeTroyProject/360InvestFronend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Component}from\"react\";import Favicon from\"react-favicon\";import\"../AccountsAsset/dash.css\";import{Route,Switch,useHistory,Redirect,NavLink}from\"react-router-dom\";import Sidebar from\"../Component/Sidebar\";import{Select,message}from\"antd\";import axios from\"axios\";import\"antd/dist/antd.css\";import AdminSidebar from\"../Component/AdminSidebar\";import TradingViewWidget,{Themes}from\"react-tradingview-widget\";var endpoint=\"https://backend360-45ylc.ondigitalocean.app\";var Payment=function Payment(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState(props.user?props.user:null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var closeForex=function closeForex(){console.log(\"input a function here to close forex\");};var myRef3=props.user.user?/*#__PURE__*/React.createRef():\"\";var textInput=props.user.user?/*#__PURE__*/React.createRef():\"\";var manager=false;var admin=true;var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),paymentSuccessText=_useState6[0],setpaymentSuccessText=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),paymentRefPattern=_useState8[0],setpaymentRefPattern=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),paymentMinDeposit=_useState10[0],setPaymentMinDeposit=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),paymentMaxDeposit=_useState12[0],setPaymentMaxDeposit=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),paymentMinWithdraw=_useState14[0],setPaymentMinWithdraw=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),paymentMaxWithdraw=_useState16[0],setPaymentMaxWithdraw=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),paymentNeedsApproval=_useState18[0],setpaymentNeedsApproval=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),masterCardStatus=_useState20[0],setmasterCardStatus=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),bitCoinStatus=_useState22[0],setbitCoinStatus=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),btcHeaderText=_useState24[0],setbtcHeaderText=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),btcAddress=_useState26[0],setbtcAddress=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),buyBTCLink=_useState28[0],setbuyBTCLink=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),submitLoading=_useState30[0],setSubmitLoading=_useState30[1];var dataAll={paymentSuccessText:paymentSuccessText,paymentRefPattern:paymentRefPattern,paymentMinDeposit:paymentMinDeposit,paymentMaxDeposit:paymentMaxDeposit,paymentMinWithdraw:paymentMinWithdraw,paymentMaxWithdraw:paymentMaxWithdraw,paymentNeedsApproval:paymentNeedsApproval,masterCardStatus:masterCardStatus,bitCoinStatus:bitCoinStatus,buyBTCLink:buyBTCLink,btcAddress:btcAddress,btcHeaderText:btcHeaderText};var onSaved=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitLoading(true);_context.next=3;return axios.put(\"\".concat(endpoint,\"/api/site/paymentsettings\"),dataAll);case 3:res=_context.sent;if(res.data){message.success(\"Settings successfully updated\");setSubmitLoading(false);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function onSaved(){return _ref.apply(this,arguments);};}();useState(function(){if(props.site){setpaymentSuccessText(props.web.web.paymentSuccessText);setpaymentRefPattern(props.web.web.paymentRefPattern);setpaymentNeedsApproval(props.web.web.paymentNeedsApproval);setPaymentMinDeposit(props.web.web.paymentMinDeposit);setPaymentMaxDeposit(props.web.web.paymentMaxDeposit);setPaymentMinWithdraw(props.web.web.paymentMinWithdraw);setPaymentMaxWithdraw(props.web.web.paymentMaxWithdraw);setmasterCardStatus(props.web.web.masterCardStatus);setbitCoinStatus(props.web.web.bitCoinStatus);setbtcHeaderText(props.web.web.btcHeaderText);setbtcAddress(props.web.web.btcAddress);setbuyBTCLink(props.web.web.buyBTCLink);}});useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://backend360-45ylc.ondigitalocean.app/api/trade/\".concat(user.user?user.user.user._id:\"\"));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;setOrders(data);case 7:case\"end\":return _context2.stop();}}},_callee2);}))();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,CurrentUser;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://backend360-45ylc.ondigitalocean.app/api/trade/user/\".concat(user.user?user.user.user._id:\"\"));case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:CurrentUser=_context3.sent;setUser(CurrentUser);case 7:case\"end\":return _context3.stop();}}},_callee3);}))();if(props.user.user){var script3=document.createElement(\"script\");script3.src=\"https://cdn.jsdelivr.net/gh/codabae/hostjs/dashUPPER15.js\";script3.async=true;myRef3.current.appendChild(script3);}},[]);if(props.user.length===0){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}else{// console.log(state.orderIsh);\nreturn/*#__PURE__*/_jsx(\"div\",{ref:myRef3,children:/*#__PURE__*/_jsx(\"section\",{className:\"dash-contents\",onClick:closeForex,children:/*#__PURE__*/_jsxs(\"div\",{className:\"dash-row\",children:[/*#__PURE__*/_jsx(Sidebar,{user:props.user,site:props.site}),admin?/*#__PURE__*/_jsxs(\"div\",{className:\"full-width dash-row\",style:{paddingLeft:0,paddingBottom:35,overflow:\"hidden\"},children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"public-card\",style:{paddingLeft:0,paddingRight:0},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dash-row dash-row-centralized payment-integration\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"platform\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://www.pngfind.com/pngs/m/328-3281030_mastercard-logo-png-mastercard-png-transparent-png.png\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"subscription\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"icon mdi mdi-information-outline\",href:\"https://help.ovrley.com/help-center/articles/6/fortumo\",target:\"_blank\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-size-13 text-fade\",children:\"This payment gateway is only available for subscription system\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action\",children:[masterCardStatus===true?/*#__PURE__*/_jsx(\"span\",{className:\"enabled text-uppercase\",children:\"Enabled\"}):/*#__PURE__*/_jsx(\"span\",{className:\"disabled text-uppercase\",children:\"Disabled\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/mastercard\",className:\"configure\",children:\"Configure\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dash-row dash-row-centralized payment-integration\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"platform\",children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"50%\"},src:\"https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Bitcoin.svg/1200px-Bitcoin.svg.png\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"subscription\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"icon mdi mdi-information-outline\",href:\"https://help.ovrley.com/help-center/articles/6/fortumo\",target:\"_blank\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-size-13 text-fade\",children:\"This payment gateway is only available for subscription system\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action\",children:[bitCoinStatus===true?/*#__PURE__*/_jsx(\"span\",{className:\"enabled text-uppercase\",children:\"Enabled\"}):/*#__PURE__*/_jsx(\"span\",{className:\"disabled text-uppercase\",children:\"Disabled\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/bitcoin\",className:\"configure\",children:\"Configure\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"public-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Payment success\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{value:paymentSuccessText,onChange:function onChange(e){return setpaymentSuccessText(e.target.value);},className:\"dash-input\",type:\"text\",name:\"text\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Deposit minimum (in $)\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{className:\"dash-input\",type:\"number\",name:\"text\",value:paymentMinDeposit,onChange:function onChange(e){return setPaymentMinDeposit(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Deposit maximum (in $)\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{className:\"dash-input\",type:\"number\",name:\"text\",value:paymentMaxDeposit,onChange:function onChange(e){return setPaymentMaxDeposit(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Withdraw minimum (in $)\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{className:\"dash-input\",type:\"number\",name:\"text\",value:paymentMinWithdraw,onChange:function onChange(e){return setPaymentMinWithdraw(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Withdraw maximum (in $)\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{className:\"dash-input\",type:\"number\",name:\"text\",value:paymentMaxWithdraw,onChange:function onChange(e){return setPaymentMaxWithdraw(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dtls\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Payment reference pattern\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$ : Random number (0-9)\",/*#__PURE__*/_jsx(\"br\",{}),\"* : Random Letter (A-Z)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{value:paymentRefPattern,onChange:function onChange(e){return setpaymentRefPattern(e.target.value);},className:\"dash-input\",type:\"text\",name:\"text\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Payment need to be approved\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions switch-field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"switch-field-round\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"approved-payment-one\",name:\"approved-payment\",defaultValue:\"yes\",onChange:function onChange(e){return setpaymentNeedsApproval(e.target.checked?true:false);},checked:paymentNeedsApproval===true?true:false}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"approved-payment-one\",children:\"ON\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"approved-payment-two\",name:\"approved-payment\",defaultValue:\"no\",onChange:function onChange(e){return setpaymentNeedsApproval(e.target.checked?false:true);},checked:paymentNeedsApproval===false?true:false}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"approved-payment-two\",children:\"OFF\"})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"save-btn\",children:/*#__PURE__*/_jsx(\"button\",{disabled:submitLoading,onClick:onSaved,children:\"Save\"})})]})]}):\"\"]})})});}};export default Payment;","map":{"version":3,"sources":["/home/codabae/Documents/Projects/TradeTroyProject/360InvestFronend/src/Pages/Payment.js"],"names":["React","useState","useEffect","Component","Favicon","Route","Switch","useHistory","Redirect","NavLink","Sidebar","Select","message","axios","AdminSidebar","TradingViewWidget","Themes","endpoint","Payment","props","orders","setOrders","user","setUser","closeForex","console","log","myRef3","createRef","textInput","manager","admin","paymentSuccessText","setpaymentSuccessText","paymentRefPattern","setpaymentRefPattern","paymentMinDeposit","setPaymentMinDeposit","paymentMaxDeposit","setPaymentMaxDeposit","paymentMinWithdraw","setPaymentMinWithdraw","paymentMaxWithdraw","setPaymentMaxWithdraw","paymentNeedsApproval","setpaymentNeedsApproval","masterCardStatus","setmasterCardStatus","bitCoinStatus","setbitCoinStatus","btcHeaderText","setbtcHeaderText","btcAddress","setbtcAddress","buyBTCLink","setbuyBTCLink","submitLoading","setSubmitLoading","dataAll","onSaved","put","res","data","success","site","web","fetch","_id","response","json","CurrentUser","script3","document","createElement","src","async","current","appendChild","length","paddingLeft","paddingBottom","overflow","paddingRight","width","e","target","value","checked"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Component } from \"react\";\nimport Favicon from \"react-favicon\";\nimport \"../AccountsAsset/dash.css\";\nimport { Route, Switch, useHistory, Redirect, NavLink } from \"react-router-dom\";\nimport Sidebar from \"../Component/Sidebar\";\nimport { Select, message } from \"antd\";\nimport axios from \"axios\";\nimport \"antd/dist/antd.css\";\nimport AdminSidebar from \"../Component/AdminSidebar\";\nimport TradingViewWidget, { Themes } from \"react-tradingview-widget\";\nconst endpoint = \"https://backend360-45ylc.ondigitalocean.app\";\n\nconst Payment = (props) => {\n  const [orders, setOrders] = useState();\n  const [user, setUser] = useState(props.user ? props.user : null);\n  const closeForex = () => {\n    console.log(\"input a function here to close forex\");\n  };\n  const myRef3 = props.user.user ? React.createRef() : \"\";\n  const textInput = props.user.user ? React.createRef() : \"\";\n\n  const manager = false;\n  const admin = true;\n\n  const [paymentSuccessText, setpaymentSuccessText] = useState(\"\");\n  const [paymentRefPattern, setpaymentRefPattern] = useState(\"\");\n  const [paymentMinDeposit, setPaymentMinDeposit] = useState(\"\");\n  const [paymentMaxDeposit, setPaymentMaxDeposit] = useState(\"\");\n  const [paymentMinWithdraw, setPaymentMinWithdraw] = useState(\"\");\n  const [paymentMaxWithdraw, setPaymentMaxWithdraw] = useState(\"\");\n  const [paymentNeedsApproval, setpaymentNeedsApproval] = useState(null);\n  const [masterCardStatus, setmasterCardStatus] = useState(null);\n  const [bitCoinStatus, setbitCoinStatus] = useState(null);\n  const [btcHeaderText, setbtcHeaderText] = useState(\"\");\n  const [btcAddress, setbtcAddress] = useState(\"\");\n  const [buyBTCLink, setbuyBTCLink] = useState(\"\");\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const dataAll = {\n    paymentSuccessText: paymentSuccessText,\n    paymentRefPattern: paymentRefPattern,\n    paymentMinDeposit: paymentMinDeposit,\n    paymentMaxDeposit: paymentMaxDeposit,\n    paymentMinWithdraw: paymentMinWithdraw,\n    paymentMaxWithdraw: paymentMaxWithdraw,\n    paymentNeedsApproval: paymentNeedsApproval,\n    masterCardStatus: masterCardStatus,\n    bitCoinStatus: bitCoinStatus,\n    buyBTCLink: buyBTCLink,\n    btcAddress: btcAddress,\n    btcHeaderText: btcHeaderText,\n  };\n\n  const onSaved = async () => {\n    setSubmitLoading(true);\n    const res = await axios.put(\n      `${endpoint}/api/site/paymentsettings`,\n      dataAll\n    );\n\n    if (res.data) {\n      message.success(\"Settings successfully updated\");\n      setSubmitLoading(false);\n    }\n  };\n  useState(() => {\n    if (props.site) {\n      setpaymentSuccessText(props.web.web.paymentSuccessText);\n      setpaymentRefPattern(props.web.web.paymentRefPattern);\n      setpaymentNeedsApproval(props.web.web.paymentNeedsApproval);\n      setPaymentMinDeposit(props.web.web.paymentMinDeposit);\n      setPaymentMaxDeposit(props.web.web.paymentMaxDeposit);\n      setPaymentMinWithdraw(props.web.web.paymentMinWithdraw);\n      setPaymentMaxWithdraw(props.web.web.paymentMaxWithdraw);\n      setmasterCardStatus(props.web.web.masterCardStatus);\n      setbitCoinStatus(props.web.web.bitCoinStatus);\n      setbtcHeaderText(props.web.web.btcHeaderText);\n      setbtcAddress(props.web.web.btcAddress);\n      setbuyBTCLink(props.web.web.buyBTCLink);\n    }\n  });\n\n  useEffect(() => {\n    (async () => {\n      let response = await fetch(\n        `https://backend360-45ylc.ondigitalocean.app/api/trade/${\n          user.user ? user.user.user._id : \"\"\n        }`\n      );\n      let data = await response.json();\n      setOrders(data);\n    })();\n\n    (async () => {\n      let response = await fetch(\n        `https://backend360-45ylc.ondigitalocean.app/api/trade/user/${\n          user.user ? user.user.user._id : \"\"\n        }`\n      );\n      let CurrentUser = await response.json();\n\n      setUser(CurrentUser);\n    })();\n\n    if (props.user.user) {\n      const script3 = document.createElement(\"script\");\n      script3.src = \"https://cdn.jsdelivr.net/gh/codabae/hostjs/dashUPPER15.js\";\n      script3.async = true;\n\n      myRef3.current.appendChild(script3);\n    }\n  }, []);\n\n  if (props.user.length === 0) {\n    return <Redirect to=\"/\" />;\n  } else {\n    // console.log(state.orderIsh);\n\n    return (\n      <div ref={myRef3}>\n        {/* Beggining of navbar */}\n\n        {/* Ending of navbar */}\n        {/* Beginning of contents */}\n        <section className=\"dash-contents\" onClick={closeForex}>\n          <div className=\"dash-row\">\n            <Sidebar user={props.user} site={props.site} />\n\n            {/* start route */}\n\n            {/* start route */}\n            {admin ? (\n              <div\n                className=\"full-width dash-row\"\n                style={{\n                  paddingLeft: 0,\n                  paddingBottom: 35,\n                  overflow: \"hidden\",\n                }}\n              >\n                <AdminSidebar />\n\n                <div className=\"admin-content\">\n                  <div\n                    className=\"public-card\"\n                    style={{ paddingLeft: 0, paddingRight: 0 }}\n                  >\n                    <div className=\"dash-row dash-row-centralized payment-integration\">\n                      <div className=\"platform\">\n                        <img src=\"https://www.pngfind.com/pngs/m/328-3281030_mastercard-logo-png-mastercard-png-transparent-png.png\" />\n                      </div>\n                      <div className=\"subscription\">\n                        <a\n                          className=\"icon mdi mdi-information-outline\"\n                          href=\"https://help.ovrley.com/help-center/articles/6/fortumo\"\n                          target=\"_blank\"\n                        />{\" \"}\n                        <span className=\"font-size-13 text-fade\">\n                          This payment gateway is only available for\n                          subscription system\n                        </span>\n                      </div>\n                      <div className=\"action\">\n                        {masterCardStatus === true ? (\n                          <span className=\"enabled text-uppercase\">\n                            Enabled\n                          </span>\n                        ) : (\n                          <span className=\"disabled text-uppercase\">\n                            Disabled\n                          </span>\n                        )}\n\n                        <NavLink to=\"/mastercard\" className=\"configure\">\n                          Configure\n                        </NavLink>\n                      </div>\n                    </div>\n                    <div className=\"dash-row dash-row-centralized payment-integration\">\n                      <div className=\"platform\">\n                        <img\n                          style={{ width: \"50%\" }}\n                          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Bitcoin.svg/1200px-Bitcoin.svg.png\"\n                        />\n                      </div>\n                      <div className=\"subscription\">\n                        <a\n                          className=\"icon mdi mdi-information-outline\"\n                          href=\"https://help.ovrley.com/help-center/articles/6/fortumo\"\n                          target=\"_blank\"\n                        />{\" \"}\n                        <span className=\"font-size-13 text-fade\">\n                          This payment gateway is only available for\n                          subscription system\n                        </span>\n                      </div>\n                      <div className=\"action\">\n                        {bitCoinStatus === true ? (\n                          <span className=\"enabled text-uppercase\">\n                            Enabled\n                          </span>\n                        ) : (\n                          <span className=\"disabled text-uppercase\">\n                            Disabled\n                          </span>\n                        )}\n                        <NavLink to=\"/bitcoin\" className=\"configure\">\n                          Configure\n                        </NavLink>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"public-card\">\n                    <div className=\"each-row dash-row\">\n                      <div className=\"dtls\">\n                        <h4>Payment success</h4>\n                      </div>\n                      <div className=\"actions\">\n                        <input\n                          value={paymentSuccessText}\n                          onChange={(e) =>\n                            setpaymentSuccessText(e.target.value)\n                          }\n                          className=\"dash-input\"\n                          type=\"text\"\n                          name=\"text\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"each-row dash-row\">\n                      <div className=\"dtls\">\n                        <h4>Deposit minimum (in $)</h4>\n                      </div>\n                      <div className=\"actions\">\n                        <input\n                          className=\"dash-input\"\n                          type=\"number\"\n                          name=\"text\"\n                          value={paymentMinDeposit}\n                          onChange={(e) => setPaymentMinDeposit(e.target.value)}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"each-row dash-row\">\n                      <div className=\"dtls\">\n                        <h4>Deposit maximum (in $)</h4>\n                      </div>\n                      <div className=\"actions\">\n                        <input\n                          className=\"dash-input\"\n                          type=\"number\"\n                          name=\"text\"\n                          value={paymentMaxDeposit}\n                          onChange={(e) => setPaymentMaxDeposit(e.target.value)}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"each-row dash-row\">\n                      <div className=\"dtls\">\n                        <h4>Withdraw minimum (in $)</h4>\n                      </div>\n                      <div className=\"actions\">\n                        <input\n                          className=\"dash-input\"\n                          type=\"number\"\n                          name=\"text\"\n                          value={paymentMinWithdraw}\n                          onChange={(e) =>\n                            setPaymentMinWithdraw(e.target.value)\n                          }\n                        />\n                      </div>\n                    </div>\n                    <div className=\"each-row dash-row\">\n                      <div className=\"dtls\">\n                        <h4>Withdraw maximum (in $)</h4>\n                      </div>\n                      <div className=\"actions\">\n                        <input\n                          className=\"dash-input\"\n                          type=\"number\"\n                          name=\"text\"\n                          value={paymentMaxWithdraw}\n                          onChange={(e) =>\n                            setPaymentMaxWithdraw(e.target.value)\n                          }\n                        />\n                      </div>\n                    </div>\n                    <div className=\"each-row dash-row\">\n                      <div className=\"dtls\">\n                        <h4>Payment reference pattern</h4>\n                        <p>\n                          $ : Random number (0-9)\n                          <br />* : Random Letter (A-Z)\n                        </p>\n                      </div>\n                      <div className=\"actions\">\n                        <input\n                          value={paymentRefPattern}\n                          onChange={(e) => setpaymentRefPattern(e.target.value)}\n                          className=\"dash-input\"\n                          type=\"text\"\n                          name=\"text\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"each-row dash-row\">\n                      <div className=\"dtls\">\n                        <h4>Payment need to be approved</h4>\n                      </div>\n                      <div className=\"actions switch-field\">\n                        <div className=\"switch-field-round\">\n                          <input\n                            type=\"radio\"\n                            id=\"approved-payment-one\"\n                            name=\"approved-payment\"\n                            defaultValue=\"yes\"\n                            onChange={(e) =>\n                              setpaymentNeedsApproval(\n                                e.target.checked ? true : false\n                              )\n                            }\n                            checked={\n                              paymentNeedsApproval === true ? true : false\n                            }\n                          />\n                          <label htmlFor=\"approved-payment-one\">ON</label>\n                          <input\n                            type=\"radio\"\n                            id=\"approved-payment-two\"\n                            name=\"approved-payment\"\n                            defaultValue=\"no\"\n                            onChange={(e) =>\n                              setpaymentNeedsApproval(\n                                e.target.checked ? false : true\n                              )\n                            }\n                            checked={\n                              paymentNeedsApproval === false ? true : false\n                            }\n                          />\n                          <label htmlFor=\"approved-payment-two\">OFF</label>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"save-btn\">\n                    <button disabled={submitLoading} onClick={onSaved}>\n                      Save\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              \"\"\n            )}\n\n            {/* {state.admin ? () : ''\n\n             } */}\n\n            {/* storrrrrp */}\n          </div>\n        </section>\n      </div>\n    );\n  }\n};\n\nexport default Payment;\n"]},"metadata":{},"sourceType":"module"}