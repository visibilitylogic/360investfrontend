{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import _defineProperty from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState,useEffect,Component}from\"react\";import Favicon from\"react-favicon\";import\"../AccountsAsset/dash.css\";import{Route,Switch,useHistory,Redirect,NavLink}from\"react-router-dom\";import TradingViewWidget,{Themes}from\"react-tradingview-widget\";var Orders=/*#__PURE__*/function(_Component){_inherits(Orders,_Component);var _super=_createSuper(Orders);function Orders(props){var _this;_classCallCheck(this,Orders);_this=_super.call(this,props);_this.savedOrders=JSON.parse(localStorage.getItem(\"orders\"))?JSON.parse(localStorage.getItem(\"orders\")):[];_this.getBTC=function(str){var r=_this.props.crypto.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getETH=function(str){var r=_this.props.crypto.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getLTC=function(str){var r=_this.props.crypto.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getEUR=function(str){var r=_this.props.fxPrice.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getGBP=function(str){var r=_this.props.fxPrice.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getJPY=function(str){var r=_this.props.fxPrice.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getAAPL=function(str){var r=_this.props.iex.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getTSLA=function(str){var r=_this.props.iex.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getGOOGL=function(str){var r=_this.props.iex.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getMSFT=function(str){var r=_this.props.iex.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getFB=function(str){var r=_this.props.iex.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getDE=function(str){var r=_this.props.cum.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getHO=function(str){var r=_this.props.cum.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getCO=function(str){var r=_this.props.cum.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getGAS=function(str){var r=_this.props.cum.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getPRO=function(str){var r=_this.props.cum.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getJET=function(str){var r=_this.props.cum.find(function(i){return i.symbol.toLowerCase()===str.toLowerCase();});if(r){return r;}};_this.getRate=function(str){// let a = [\n//   this.getBTC(\"btcusd\"),\n//   this.getAAPL(\"AAPL\"),\n//   this.getMSFT(\"MSFT\"),\n//   this.getFB(\"FB\"),\n//   this.getLTC(\"LTCUSD\"),\n//   this.getETH(\"ETHUSD\"),\n//   this.getJET(\"Jet Fuel\"),\n//   this.getEUR(\"EURUSD\"),\n//   this.getJPY(\"USDJPY\"),\n//   this.getGBP(\"USDGBP\"),\n//   this.getTSLA(\"TSLA\"),\n//   this.getPRO(\"Propane\"),\n//   this.getGAS(\"GAS\"),\n//   this.getDE(\"DIESEL\"),\n//   this.getHO(\"Heating Oil\"),\n//   this.getCO(\"Crude Oil\"),\n//   this.getGOOGL(\"GOOGL\"),\n// ];\n// if (a.length > 0) {\n//   let r = a.find((i) => {\n//     if (i) {\n//       return i.symbol.toLowerCase().trim() === str.toLowerCase().trim();\n//     }\n//   });\n//   if (r) {\n//     if (r.price) {\n//       return r.price;\n//     } else {\n//       return r.rate;\n//     }\n//   }\n// }\n};_this.getItem=function(){var buy=_this.props.orders.filter(function(item){return item.tag===\"buy\"&&parseInt(item.unit)/parseInt(_this.getRate(item.stockName))<parseInt(item.stockAmount)&&item.active;});var sell=_this.props.orders.filter(function(item){return item.tag===\"sell\"&&parseInt(item.unit)/parseInt(_this.getRate(item.stockName))>parseInt(item.stockAmount)&&item.active;});var closeArr=[].concat(_toConsumableArray(buy),_toConsumableArray(sell));return closeArr;};_this.closeTimer=function(){var arr=_this.getItem();console.log(\"still trading\",arr);arr.map(function(item){_this.props.closeOrder(item._id,(parseInt(item.unit)/parseInt(_this.getRate(item.stockName))-parseInt(item.stockAmount))*10*parseInt(_this.getRate(item.stockName)),parseInt(item.unit)/parseInt(_this.getRate(item.stockName))*10*parseInt(_this.getRate(item.stockName)))();});};_this.props={real:[],default:[],arr:[\"hi\"],count:10,intervalId:null};_this.state={intervalId:null};return _this;}_createClass(Orders,[{key:\"componentDidMount\",value:function componentDidMount(){var intervalId=setInterval(this.closeTimer,10000);this.setState({intervalId:intervalId});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.state.intervalId);}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"order\",style:this.props.buysell?{height:\"65vh\",overflow:\"auto\"}:{height:\"15vh\",overflow:\"auto\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"dtls\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text\",children:\"Open positions\"}),/*#__PURE__*/_jsx(\"svg\",{className:this.props.buysell?\"expand toggled\":\"expand untoggled\",width:20,height:20,viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M5 15.5L12 8.5L19 15.5\",stroke:\"#fff\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"all-tables tablesI\",style:this.props.buysell?{display:\"block\"}:{display:\"block\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"tables tablesI\",id:\"open-positions\",style:this.props.buysell?{display:\"block\"}:{display:\"block\"},children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"INSTRUMENT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"UNITS\"}),/*#__PURE__*/_jsx(\"th\",{children:\"INVESTMENT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DIRECTION\"}),/*#__PURE__*/_jsx(\"th\",{children:\"OPEN RATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"MARKET RATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"P&L\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PROFIT/LOSS\"}),/*#__PURE__*/_jsx(\"th\",{children:\"STATUS\"})]}),this.props.orders.length>0?this.props.orders.map(function(item,i){var _jsx2,_jsx3;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[item.time?item.time.slice(0,10):\"\",\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"00\",i+1]}),/*#__PURE__*/_jsx(\"td\",{children:item.stockName}),/*#__PURE__*/_jsx(\"td\",{children:item.unit?(parseInt(item.unit)/item.buyW*10).toString().slice(0,8):1}),/*#__PURE__*/_jsx(\"td\",{children:item.unit?(\"$\"+item.unit/item.buyW*item.buyW).toString().slice(0,8):1}),/*#__PURE__*/_jsx(\"td\",{className:\"rise\",style:item.tag===\"buy\"?{color:\"green\"}:{color:\"red\"},children:item.tag}),/*#__PURE__*/_jsx(\"td\",{children:item.buyW?\"$\"+item.buyW.toString().slice(0,8):\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[item.active?\"$\":\"\",item.active?_this2.getRate(item.stockName)?_this2.getRate(item.stockName).toString().slice(0,8):\"\":\"---\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"fall\",children:item.active?item.tag===\"buy\"?item.unit/_this2.getRate(item.stockName)>item.stockAmount?(\"-\"+(item.unit/_this2.getRate(item.stockName)-item.stockAmount)*10*_this2.getRate(item.stockName)).toString().slice(0,8):(\"+\"+(item.stockAmount-item.unit/_this2.getRate(item.stockName))*10*_this2.getRate(item.stockName)).toString().slice(0,8)://sell\nitem.unit/_this2.getRate(item.stockName)<item.stockAmount?((item.unit/_this2.getRate(item.stockName)-item.stockAmount)*10*_this2.getRate(item.stockName)).toString().slice(0,8):(\"+\"+(item.unit/_this2.getRate(item.stockName)-item.stockAmount)*10*_this2.getRate(item.stockName)).toString().slice(0,8):\"---\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",item.profit,\"/\",item.loss]}),/*#__PURE__*/_jsxs(\"td\",{style:{display:\"flex\",width:\"75%\"},children:[/*#__PURE__*/_jsx(\"button\",(_jsx2={className:\"orderBtn\"},_defineProperty(_jsx2,\"className\",\"btn-green\"),_defineProperty(_jsx2,\"children\",item.active?\"Open\":\"closed\"),_jsx2)),item.active?/*#__PURE__*/_jsx(\"button\",(_jsx3={className:\"orderBtn\",onClick:_this2.props.closeOrder(item._id,(parseInt(item.unit)/parseInt(item.buyW)-parseInt(item.stockAmount))*10*parseInt(item.buyW),parseInt(item.unit)/parseInt(_this2.getRate(item.stockName))*10*parseInt(_this2.getRate(item.stockName)))},_defineProperty(_jsx3,\"className\",\"btn-red\"),_defineProperty(_jsx3,\"children\",\"CLOSE\"),_jsx3)):\"\",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-trash trashS\",onClick:_this2.props.delOrder(item._id),children:\" \"})]})]});}):\"\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"tables\",id:\"pending-orders\",children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"INSTRUMENT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"UNITS\"}),/*#__PURE__*/_jsx(\"th\",{children:\"INVESTMENT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DIRECTION\"}),/*#__PURE__*/_jsx(\"th\",{children:\"OPEN RATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"MARKET RATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"P&L\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PROFIT/LOSS\"}),/*#__PURE__*/_jsx(\"th\",{children:\"STATUS\"})]}),this.props.orders.length>0?this.props.orders.map(function(item,i){var _jsx4,_jsx5;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[item.time?item.time.slice(0,10):\"\",\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"00\",i+1]}),/*#__PURE__*/_jsx(\"td\",{children:item.stockName}),/*#__PURE__*/_jsx(\"td\",{children:item.unit?(parseInt(item.unit)/item.buyW*10).toString().slice(0,8):1}),/*#__PURE__*/_jsx(\"td\",{children:item.unit?(\"$\"+item.unit/item.buyW*item.buyW).toString().slice(0,8):1}),/*#__PURE__*/_jsx(\"td\",{className:\"rise\",style:item.tag===\"buy\"?{color:\"green\"}:{color:\"red\"},children:item.tag}),/*#__PURE__*/_jsx(\"td\",{children:item.buyW?\"$\"+item.buyW.toString().slice(0,8):\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[item.active?\"$\":\"\",item.active?_this2.getRate(item.stockName)?_this2.getRate(item.stockName).toString().slice(0,8):\"\":\"---\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"fall\",children:item.active?item.tag===\"buy\"?item.unit/_this2.getRate(item.stockName)>item.stockAmount?(\"-\"+(item.unit/_this2.getRate(item.stockName)-item.stockAmount)*10*_this2.getRate(item.stockName)).toString().slice(0,8):(\"+\"+(item.stockAmount-item.unit/_this2.getRate(item.stockName))*10*_this2.getRate(item.stockName)).toString().slice(0,8)://sell\nitem.unit/_this2.getRate(item.stockName)<item.stockAmount?((item.unit/_this2.getRate(item.stockName)-item.stockAmount)*10*_this2.getRate(item.stockName)).toString().slice(0,8):(\"+\"+(item.unit/_this2.getRate(item.stockName)-item.stockAmount)*10*_this2.getRate(item.stockName)).toString().slice(0,8):\"---\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",item.profit,\"/\",item.loss]}),/*#__PURE__*/_jsxs(\"td\",{style:{display:\"flex\",width:\"75%\"},children:[/*#__PURE__*/_jsx(\"button\",(_jsx4={className:\"orderBtn\"},_defineProperty(_jsx4,\"className\",\"btn-green\"),_defineProperty(_jsx4,\"children\",item.active?\"Open\":\"closed\"),_jsx4)),item.active?/*#__PURE__*/_jsx(\"button\",(_jsx5={className:\"orderBtn\",onClick:_this2.props.closeOrder(item._id,(parseInt(item.unit)/parseInt(item.buyW)-parseInt(item.stockAmount))*10*parseInt(item.buyW),parseInt(item.unit)/parseInt(_this2.getRate(item.stockName))*10*parseInt(_this2.getRate(item.stockName)))},_defineProperty(_jsx5,\"className\",\"btn-red\"),_defineProperty(_jsx5,\"children\",\"CLOSE\"),_jsx5)):\"\",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-trash trashS\",onClick:_this2.props.delOrder(item._id),children:\" \"})]})]});}):\"\"]})})})]})]})})});}}]);return Orders;}(Component);export default Orders;","map":{"version":3,"sources":["/home/codabae/Documents/Projects/TradeTroyProject/ExcelinsureFrontend/src/Component/Orders.js"],"names":["React","useState","useEffect","Component","Favicon","Route","Switch","useHistory","Redirect","NavLink","TradingViewWidget","Themes","Orders","props","savedOrders","JSON","parse","localStorage","getItem","getBTC","str","r","crypto","find","i","symbol","toLowerCase","getETH","getLTC","getEUR","fxPrice","getGBP","getJPY","getAAPL","iex","getTSLA","getGOOGL","getMSFT","getFB","getDE","cum","getHO","getCO","getGAS","getPRO","getJET","getRate","buy","orders","filter","item","tag","parseInt","unit","stockName","stockAmount","active","sell","closeArr","closeTimer","arr","console","log","map","closeOrder","_id","real","default","count","intervalId","state","setInterval","setState","clearInterval","buysell","height","overflow","display","length","time","slice","buyW","toString","color","profit","loss","width","delOrder"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Component } from \"react\";\nimport Favicon from \"react-favicon\";\nimport \"../AccountsAsset/dash.css\";\nimport { Route, Switch, useHistory, Redirect, NavLink } from \"react-router-dom\";\n\nimport TradingViewWidget, { Themes } from \"react-tradingview-widget\";\n\nclass Orders extends Component {\n  constructor(props) {\n    super(props);\n    this.props = {\n      real: [],\n      default: [],\n      arr: [\"hi\"],\n      count: 10,\n      intervalId: null,\n    };\n    this.state = {\n      intervalId: null,\n    };\n  }\n\n  savedOrders = JSON.parse(localStorage.getItem(\"orders\"))\n    ? JSON.parse(localStorage.getItem(\"orders\"))\n    : [];\n\n  getBTC = (str) => {\n    let r = this.props.crypto.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getETH = (str) => {\n    let r = this.props.crypto.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getLTC = (str) => {\n    let r = this.props.crypto.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getEUR = (str) => {\n    let r = this.props.fxPrice.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n  getGBP = (str) => {\n    let r = this.props.fxPrice.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n  getJPY = (str) => {\n    let r = this.props.fxPrice.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getAAPL = (str) => {\n    let r = this.props.iex.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getTSLA = (str) => {\n    let r = this.props.iex.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getGOOGL = (str) => {\n    let r = this.props.iex.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getMSFT = (str) => {\n    let r = this.props.iex.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getFB = (str) => {\n    let r = this.props.iex.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getDE = (str) => {\n    let r = this.props.cum.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getHO = (str) => {\n    let r = this.props.cum.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getCO = (str) => {\n    let r = this.props.cum.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getGAS = (str) => {\n    let r = this.props.cum.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getPRO = (str) => {\n    let r = this.props.cum.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n\n  getJET = (str) => {\n    let r = this.props.cum.find(\n      (i) => i.symbol.toLowerCase() === str.toLowerCase()\n    );\n    if (r) {\n      return r;\n    }\n  };\n  getRate = (str) => {\n    // let a = [\n    //   this.getBTC(\"btcusd\"),\n    //   this.getAAPL(\"AAPL\"),\n    //   this.getMSFT(\"MSFT\"),\n    //   this.getFB(\"FB\"),\n    //   this.getLTC(\"LTCUSD\"),\n    //   this.getETH(\"ETHUSD\"),\n    //   this.getJET(\"Jet Fuel\"),\n    //   this.getEUR(\"EURUSD\"),\n    //   this.getJPY(\"USDJPY\"),\n    //   this.getGBP(\"USDGBP\"),\n    //   this.getTSLA(\"TSLA\"),\n    //   this.getPRO(\"Propane\"),\n    //   this.getGAS(\"GAS\"),\n    //   this.getDE(\"DIESEL\"),\n    //   this.getHO(\"Heating Oil\"),\n    //   this.getCO(\"Crude Oil\"),\n    //   this.getGOOGL(\"GOOGL\"),\n    // ];\n    // if (a.length > 0) {\n    //   let r = a.find((i) => {\n    //     if (i) {\n    //       return i.symbol.toLowerCase().trim() === str.toLowerCase().trim();\n    //     }\n    //   });\n    //   if (r) {\n    //     if (r.price) {\n    //       return r.price;\n    //     } else {\n    //       return r.rate;\n    //     }\n    //   }\n    // }\n  };\n  getItem = () => {\n    let buy = this.props.orders.filter((item) => {\n      return (\n        item.tag === \"buy\" &&\n        parseInt(item.unit) / parseInt(this.getRate(item.stockName)) <\n          parseInt(item.stockAmount) &&\n        item.active\n      );\n    });\n\n    let sell = this.props.orders.filter((item) => {\n      return (\n        item.tag === \"sell\" &&\n        parseInt(item.unit) / parseInt(this.getRate(item.stockName)) >\n          parseInt(item.stockAmount) &&\n        item.active\n      );\n    });\n    let closeArr = [...buy, ...sell];\n\n    return closeArr;\n  };\n\n  componentDidMount() {\n\n    const intervalId = setInterval(this.closeTimer, 10000);\n    this.setState({ intervalId });\n  }\n  closeTimer = () => {\n    let arr = this.getItem();\n    console.log(\"still trading\", arr);\n\n    arr.map((item) => {\n      this.props.closeOrder(\n        item._id,\n        (parseInt(item.unit) / parseInt(this.getRate(item.stockName)) -\n          parseInt(item.stockAmount)) *\n          10 *\n          parseInt(this.getRate(item.stockName)),\n        (parseInt(item.unit) / parseInt(this.getRate(item.stockName))) *\n          10 *\n          parseInt(this.getRate(item.stockName))\n      )();\n    });\n  };\n  componentWillUnmount() {\n    clearInterval(this.state.intervalId);\n  }\n  render() {\n\n    return (\n      <>\n        <div className=\"order\" style={this.props.buysell ? { height: \"65vh\", overflow: \"auto\" } : { height: \"15vh\", overflow: \"auto\" }}>\n          <div className=\"dtls\">\n            <span className=\"text\">Open positions</span>\n            {/* <span className=\"text\">Pending orders</span> */}\n            <svg\n              className={this.props.buysell?\"expand toggled\":\"expand untoggled\" }\n              width={20}\n              height={20}\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M5 15.5L12 8.5L19 15.5\"\n                stroke=\"#fff\"\n                strokeWidth=\"1.5\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n            <div className=\"all-tables tablesI\" style={this.props.buysell?{ display: \"block\" }:{ display: \"block\" } }>\n              <div\n                className=\"tables tablesI\"\n                id=\"open-positions\"\n                style={this.props.buysell?{ display: \"block\" }:{ display: \"block\" } }\n              >\n                <table>\n                  <tbody>\n                    <tr>\n                      <th>DATE</th>\n                      <th>ID</th>\n                      <th>INSTRUMENT</th>\n                      <th>UNITS</th>\n                      <th>INVESTMENT</th>\n                      <th>DIRECTION</th>\n                      <th>OPEN RATE</th>\n                      <th>MARKET RATE</th>\n                      <th>P&L</th>\n                      <th>PROFIT/LOSS</th>\n                      <th>STATUS</th>\n                    </tr>\n                    {this.props.orders.length > 0\n                      ? this.props.orders.map((item, i) => (\n                          <tr>\n                            <td>\n                              {item.time ? item.time.slice(0, 10) : \"\"}{\" \"}\n                              {/* {item.time\n                                      ? item.time.slice(16).slice(0, 8)\n                                      : \"\"} */}\n                            </td>\n                            <td>00{i + 1}</td>\n                            <td>{item.stockName}</td>\n\n                            <td>\n                              {item.unit\n                                ? ((parseInt(item.unit) / item.buyW) * 10)\n                                    .toString()\n                                    .slice(0, 8)\n                                : 1}\n                            </td>\n\n                            <td>\n                              {item.unit\n                                ? (\"$\" + (item.unit / item.buyW) * item.buyW)\n                                    .toString()\n                                    .slice(0, 8)\n                                : 1}\n                            </td>\n\n                            <td\n                              className=\"rise\"\n                              style={\n                                item.tag === \"buy\"\n                                  ? { color: \"green\" }\n                                  : { color: \"red\" }\n                              }\n                            >\n                              {item.tag}\n                            </td>\n                            <td>\n                              {item.buyW\n                                ? \"$\" + item.buyW.toString().slice(0, 8)\n                                : \"\"}\n                            </td>\n                            <td>\n                              {item.active ? \"$\" : \"\"}\n                              {item.active\n                                ? this.getRate(item.stockName)\n                                  ? this.getRate(item.stockName)\n                                      .toString()\n                                      .slice(0, 8)\n                                  : \"\"\n                                : \"---\"}\n                            </td>\n                            <td className=\"fall\">\n                              {item.active\n                                ? item.tag === \"buy\"\n                                  ? item.unit / this.getRate(item.stockName) >\n                                    item.stockAmount\n                                    ? (\n                                        \"-\" +\n                                        (item.unit /\n                                          this.getRate(item.stockName) -\n                                          item.stockAmount) *\n                                          10 *\n                                          this.getRate(item.stockName)\n                                      )\n                                        .toString()\n                                        .slice(0, 8)\n                                    : (\n                                        \"+\" +\n                                        (item.stockAmount -\n                                          item.unit /\n                                            this.getRate(item.stockName)) *\n                                          10 *\n                                          this.getRate(item.stockName)\n                                      )\n                                        .toString()\n                                        .slice(0, 8)\n                                  : //sell\n                                  item.unit / this.getRate(item.stockName) <\n                                    item.stockAmount\n                                  ? (\n                                      (item.unit /\n                                        this.getRate(item.stockName) -\n                                        item.stockAmount) *\n                                      10 *\n                                      this.getRate(item.stockName)\n                                    )\n                                      .toString()\n                                      .slice(0, 8)\n                                  : (\n                                      \"+\" +\n                                      (item.unit /\n                                        this.getRate(item.stockName) -\n                                        item.stockAmount) *\n                                        10 *\n                                        this.getRate(item.stockName)\n                                    )\n                                      .toString()\n                                      .slice(0, 8)\n                                : \"---\"}\n                            </td>\n                            <td>\n                              {\" \"}\n                              {item.profit}/{item.loss}\n                            </td>\n                            <td style={{ display: \"flex\", width: \"75%\" }}>\n                              <button\n                                className=\"orderBtn\"\n                                className=\"btn-green\"\n                              >\n                                {item.active ? \"Open\" : \"closed\"}\n                              </button>\n\n                              {item.active ? (\n                                <button\n                                  className=\"orderBtn\"\n                                  onClick={this.props.closeOrder(\n                                    item._id,\n                                    (parseInt(item.unit) / parseInt(item.buyW) -\n                                      parseInt(item.stockAmount)) *\n                                      10 *\n                                      parseInt(item.buyW),\n                                    (parseInt(item.unit) /\n                                      parseInt(this.getRate(item.stockName))) *\n                                      10 *\n                                      parseInt(this.getRate(item.stockName))\n                                  )}\n                                  className=\"btn-red\"\n                                >\n                                  CLOSE\n                                </button>\n                              ) : (\n                                \"\"\n                              )}\n\n                              <i\n                                class=\"fas fa-trash trashS\"\n                                onClick={this.props.delOrder(item._id)}\n                              >\n                                {\" \"}\n                              </i>\n                            </td>\n                          </tr>\n                        ))\n                      : \"\"}\n                  </tbody>\n                </table>\n              </div>\n              <div className=\"tables\" id=\"pending-orders\">\n                <table>\n                  <tbody>\n                    <tr>\n                      <th>DATE</th>\n                      <th>ID</th>\n                      <th>INSTRUMENT</th>\n                      <th>UNITS</th>\n                      <th>INVESTMENT</th>\n                      <th>DIRECTION</th>\n                      <th>OPEN RATE</th>\n                      <th>MARKET RATE</th>\n                      <th>P&L</th>\n                      <th>PROFIT/LOSS</th>\n                      <th>STATUS</th>\n                    </tr>\n                    {this.props.orders.length > 0\n                      ? this.props.orders.map((item, i) => (\n                          <tr>\n                            <td>\n                              {item.time ? item.time.slice(0, 10) : \"\"}{\" \"}\n                              {/* {item.time\n                                      ? item.time.slice(16).slice(0, 8)\n                                      : \"\"} */}\n                            </td>\n                            <td>00{i + 1}</td>\n                            <td>{item.stockName}</td>\n\n                            <td>\n                              {item.unit\n                                ? ((parseInt(item.unit) / item.buyW) * 10)\n                                    .toString()\n                                    .slice(0, 8)\n                                : 1}\n                            </td>\n\n                            <td>\n                              {item.unit\n                                ? (\"$\" + (item.unit / item.buyW) * item.buyW)\n                                    .toString()\n                                    .slice(0, 8)\n                                : 1}\n                            </td>\n\n                            <td\n                              className=\"rise\"\n                              style={\n                                item.tag === \"buy\"\n                                  ? { color: \"green\" }\n                                  : { color: \"red\" }\n                              }\n                            >\n                              {item.tag}\n                            </td>\n                            <td>\n                              {item.buyW\n                                ? \"$\" + item.buyW.toString().slice(0, 8)\n                                : \"\"}\n                            </td>\n                            <td>\n                              {item.active ? \"$\" : \"\"}\n                              {item.active\n                                ? this.getRate(item.stockName)\n                                  ? this.getRate(item.stockName)\n                                      .toString()\n                                      .slice(0, 8)\n                                  : \"\"\n                                : \"---\"}\n                            </td>\n                            <td className=\"fall\">\n                              {item.active\n                                ? item.tag === \"buy\"\n                                  ? item.unit / this.getRate(item.stockName) >\n                                    item.stockAmount\n                                    ? (\n                                        \"-\" +\n                                        (item.unit /\n                                          this.getRate(item.stockName) -\n                                          item.stockAmount) *\n                                          10 *\n                                          this.getRate(item.stockName)\n                                      )\n                                        .toString()\n                                        .slice(0, 8)\n                                    : (\n                                        \"+\" +\n                                        (item.stockAmount -\n                                          item.unit /\n                                            this.getRate(item.stockName)) *\n                                          10 *\n                                          this.getRate(item.stockName)\n                                      )\n                                        .toString()\n                                        .slice(0, 8)\n                                  : //sell\n                                  item.unit / this.getRate(item.stockName) <\n                                    item.stockAmount\n                                  ? (\n                                      (item.unit /\n                                        this.getRate(item.stockName) -\n                                        item.stockAmount) *\n                                      10 *\n                                      this.getRate(item.stockName)\n                                    )\n                                      .toString()\n                                      .slice(0, 8)\n                                  : (\n                                      \"+\" +\n                                      (item.unit /\n                                        this.getRate(item.stockName) -\n                                        item.stockAmount) *\n                                        10 *\n                                        this.getRate(item.stockName)\n                                    )\n                                      .toString()\n                                      .slice(0, 8)\n                                : \"---\"}\n                            </td>\n                            <td>\n                              {\" \"}\n                              {item.profit}/{item.loss}\n                            </td>\n                            <td style={{ display: \"flex\", width: \"75%\" }}>\n                              <button\n                                className=\"orderBtn\"\n                                className=\"btn-green\"\n                              >\n                                {item.active ? \"Open\" : \"closed\"}\n                              </button>\n\n                              {item.active ? (\n                                <button\n                                  className=\"orderBtn\"\n                                  onClick={this.props.closeOrder(\n                                    item._id,\n                                    (parseInt(item.unit) / parseInt(item.buyW) -\n                                      parseInt(item.stockAmount)) *\n                                      10 *\n                                      parseInt(item.buyW),\n                                    (parseInt(item.unit) /\n                                      parseInt(this.getRate(item.stockName))) *\n                                      10 *\n                                      parseInt(this.getRate(item.stockName))\n                                  )}\n                                  className=\"btn-red\"\n                                >\n                                  CLOSE\n                                </button>\n                              ) : (\n                                \"\"\n                              )}\n\n                              <i\n                                class=\"fas fa-trash trashS\"\n                                onClick={this.props.delOrder(item._id)}\n                              >\n                                {\" \"}\n                              </i>\n                            </td>\n                          </tr>\n                        ))\n                      : \"\"}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Orders;\n"]},"metadata":{},"sourceType":"module"}